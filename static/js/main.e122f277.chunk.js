(this["webpackJsonpcars-app"]=this["webpackJsonpcars-app"]||[]).push([[0],{18:function(e,t,c){e.exports={popUp:"PopUp_popUp__1WdSW",popupTitle:"PopUp_popupTitle__2xuOC",popupInner:"PopUp_popupInner__3tCda",popupItem:"PopUp_popupItem__3X-0C",popupBts:"PopUp_popupBts__2oCjA"}},21:function(e,t,c){e.exports={header:"Header_header__1D8sX",headerInner:"Header_headerInner__SRZVt",headerItem:"Header_headerItem__3Xd_I",goOut:"Header_goOut__23A9I"}},5:function(e,t,c){e.exports={listCar:"ListCar_listCar__2LGQg",listCarInner:"ListCar_listCarInner__1MLTH",listCarTitle:"ListCar_listCarTitle__2usxA",addCar:"ListCar_addCar__3Sbr9",listCarSpace:"ListCar_listCarSpace__2EM-X",listCarColumnTitles:"ListCar_listCarColumnTitles__3X3il",listCarColumn:"ListCar_listCarColumn__3tPMt",carTitle:"ListCar_carTitle__11xlP",actionIcons:"ListCar_actionIcons__1I3ze",btnsWrap:"ListCar_btnsWrap__34rqR",actionBtn:"ListCar_actionBtn__2ZqOU",pagesControlArea:"ListCar_pagesControlArea__IlDDc",listCarBottom:"ListCar_listCarBottom__2_JrY",select:"ListCar_select__3On2-",pageOfApp:"ListCar_pageOfApp__17pYF"}},56:function(e,t,c){},57:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(24),s=c.n(n),i=(c(56),c(57),c(21)),A=c.n(i),l=c.p+"static/media/carIcon.94cdd637.svg",o=c(1),d=a.a.memo((function(){return Object(o.jsx)("header",{className:A.a.header,children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:A.a.headerInner,children:[Object(o.jsx)("div",{className:A.a.headerItem,children:Object(o.jsx)("img",{src:l,alt:""})}),Object(o.jsxs)("div",{className:A.a.headerItem,children:[Object(o.jsx)("div",{className:"headerTitle",children:"Username"}),Object(o.jsx)("button",{className:A.a.goOut,children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADtSURBVHgBrZS7DcIwFEWvDUmdEdwkoqSkASWTIEZgA5gANmAUkGgoKREUvA1ITQzmBREpSGDndxrHUnR8fW1ZRNFkCmPWAAI0gyDEQkTh+MoThXak/UJyvuwFGsBBDA+BREdYRYNBrMJwvFVqpNBG9NR6xfuNfc9zyqy9KBUHvvfcAmbIU7pnWUJ0oPI/n47siYh26T2TCa93zL22ZKIw1uArWaVEdXDenbwnj3sSf3qqlMglKdMvjL9utu8/NjBwSt4iWJCyN39oHWRaz2wSp+h02hEPCSrQ3alxRzc0f4sKSHLT8/wDzUnZsXwBr4NtSPNPqY0AAAAASUVORK5CYII=",alt:""})})]})]})})})})),j=c(51),u=c(5),b=c.n(u),p=c(30),m=c.n(p),O=c(43),h=c(3),g=c(34),C=c(44),x=c.n(C).a.create({baseURL:"https://test-backend.esverito.com/",withCredentials:!1}),N=function(){return x.get("api/car")},f=function(e){return x.get("api/car/".concat(e))},v=function(e,t,c,r){return x.post("api/car",{brand:e,carNumber:t,engineType:c,model:r})},E=function(e){return x.delete("api/car/".concat(e))},I=function(e,t,c,r,a){return x.put("api/car/".concat(e),{brand:t,carNumber:c,engineType:r,model:a})},B={cars:[],currentCar:null,preloader:!1},T=function(e){return{type:"SET_CAR",car:e}},S=function(e){return{type:"LOADING",value:e}},_=c(12),R=c(17),U=a.a.memo((function(e){var t=Object(_.b)(),c=Object(r.useCallback)((function(){var c;t((c=+e.id,function(e){e(S(!0)),E(c).then((function(t){200===t.status&&(e(function(e){return{type:"DELETE-CAR",id:e}}(c)),e(S(!1)))})).catch((function(t){console.error(t),e(S(!1))}))}))}),[]);return Object(o.jsxs)("li",{children:[Object(o.jsx)("div",{className:b.a.carTitle,children:e.brand}),Object(o.jsx)("div",{className:b.a.carTitle,children:e.carNumber}),Object(o.jsx)("div",{className:b.a.carTitle,children:e.engineType}),Object(o.jsx)("div",{className:b.a.carTitle,children:e.model}),Object(o.jsx)("div",{className:b.a.actionIcons,children:Object(o.jsxs)("div",{className:b.a.btnsWrap,children:[Object(o.jsx)(R.b,{to:"/car/".concat(e.id),children:Object(o.jsx)("button",{className:b.a.actionBtn,children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEESURBVHgB7ZM5DoJAFIbfYGMt1i6F1l5AozfwBnoNK7G09AZ6E7dYawsWLo0NhAMozwExmRnWMFPyJ4Rl8r4v/AwAZTJSAcl0u4OJXmts9Xqratv3nVKBDwfENb2s0mNIJSBKNJCJ57W5e0SDSufso0JvENSiN3umdVjReggQMmSWe7bzWBYWMLWMaSU3QeIifEaO83wVEjDwfzgJEm9mWaczO0MgZzg44uI3TebheWqa+03cXK6PLMLN69EATcNw2UV8X5JmM98gDh7sFLpjIOxcrCW3QBaeKlABTxSogscKVMIjAtVwP/w2VQyPCsKogvvhK+r0UViXgvtJ+5Ol4WVy5QuvJPEpq7peXwAAAABJRU5ErkJggg==",alt:"createIcon"})})}),Object(o.jsx)("button",{className:b.a.actionBtn,onClick:c,children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC+SURBVHgB7ZTRDcIgFEWP1QHqBu0CGkdwEmdwA93AFZzEEUga/2WELqD4SPxq4AHV+MVJ2pICvY9yL1BJsEgNMNAt4SbNbtJln7DfyZNSgQEegQ+msBvopy+b0EhHOXPm/IToHtzh8IKLNFt0rFR/2sK1SKBwH0b5/+tQx0qZ1PmbOKWPOeXjMF9IdJUNCTQbpiyaJfAtVaAK/EHAKGk2GUnXkjzK1fqkDug4JXDRFcgRcXQZSfWFyIF2pjKXN7lAJKN3PWAdAAAAAElFTkSuQmCC",alt:"deleteIcon"})})]})})]})})),w=c(18),y=c.n(w),L=c(50),D=c(4),P=a.a.memo((function(e){var t=Object(_.b)(),c=Object(D.f)().id,a=c?"EDIT CAR INFORMATION":"ADD A NEW CAR",n=Object(_.c)((function(e){return e.cars.currentCar}));Object(r.useEffect)((function(){return c&&t(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(c){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(S(!0)),f(e).then((function(e){var t=e.data.car;c(T(t)),c(S(!1))})).catch((function(e){console.log(e),c(S(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(+c)),function(){t(T(null))}}),[c]),Object(r.useEffect)((function(){n&&(s.setFieldValue("brand",n.brand),s.setFieldValue("model",n.model),s.setFieldValue("carNumber",n.carNumber),s.setFieldValue("engineType",n.engineType))}),[n]);var s=Object(L.a)({initialValues:{brand:n?n.brand:"",model:n?n.model:"",carNumber:n?n.carNumber:"",engineType:n?n.engineType:""},validate:function(e){var t={},c=e.engineType.toUpperCase();return e.brand||(t.brand="Required"),e.engineType||(t.engineType="Required"),c&&"FUEL"!==c&&"GAS"!==c&&"HYBRID"!==c&&(t.engineType="engineType shood be correct"),e.model||(t.model="Required"),e.carNumber||(t.carNumber="Required"),t},onSubmit:function(e,r){var a,n,s,i;t(c?function(e,t,c,r,a){return function(n){n(S(!0)),I(e,t,c,r,a).then((function(e){var t=e.data.car;n(function(e){return{type:"UPDATE-CAR",updateCar:e}}(t)),n(S(!1))})).catch((function(e){console.error(e),n(S(!1))}))}}(+c,e.brand,e.carNumber,e.engineType.toUpperCase(),e.model):(a=e.brand,n=e.carNumber,s=e.engineType.toUpperCase(),i=e.model,function(e){e(S(!0)),v(a,n,s,i).then((function(t){var c=t.data.car;e({type:"ADD-NEW-CAR",newCar:c}),e(S(!1))})).catch((function(t){console.error(t),e(S(!1))}))})),r.resetForm()}}),i=Object(r.useCallback)((function(){e.closePopup&&e.closePopup(!1)}),[]);return Object(o.jsx)("div",{className:y.a.popUp,children:Object(o.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(o.jsxs)("div",{className:y.a.popupInner,children:[Object(o.jsx)("h2",{className:y.a.popupTitle,children:a}),Object(o.jsx)("button",{onClick:i,children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgB7ZQBCoAgEASXXrL//4RP6SlmcESElaUrog4cgt7egnoHTIaFIZytJXMPdoEPsb4IaTneNMnwJLwzScn5bfJ0lm0S28uCl4JFi8dMPhVf0ACE8IoI4SMTwm9KiBvNocKokA67SUdsqodCP5sbqnsAAAAASUVORK5CYII=",alt:""})})]}),Object(o.jsxs)("div",{children:[s.touched.brand&&s.errors.brand?Object(o.jsx)("div",{style:{color:"red"},children:s.errors.brand}):null,s.touched.engineType&&s.errors.engineType?Object(o.jsx)("div",{style:{color:"red"},children:s.errors.engineType}):null,s.touched.carNumber&&s.errors.carNumber?Object(o.jsx)("div",{style:{color:"red"},children:s.errors.carNumber}):null,s.touched.model&&s.errors.model?Object(o.jsx)("div",{style:{color:"red"},children:s.errors.model}):null,Object(o.jsxs)("div",{className:y.a.popupItem,children:[Object(o.jsx)("input",Object(h.a)(Object(h.a)({type:"text"},s.getFieldProps("brand")),{},{placeholder:"Brand"})),Object(o.jsx)("input",Object(h.a)(Object(h.a)({type:"text"},s.getFieldProps("model")),{},{placeholder:"Model"}))]}),Object(o.jsxs)("div",{className:y.a.popupItem,children:[Object(o.jsx)("input",Object(h.a)(Object(h.a)({type:"text"},s.getFieldProps("carNumber")),{},{placeholder:"Car Number"})),Object(o.jsx)("input",Object(h.a)(Object(h.a)({type:"text"},s.getFieldProps("engineType")),{},{placeholder:"Engine Type"}))]})]}),Object(o.jsxs)("div",{className:y.a.popupBts,children:[Object(o.jsx)("button",{onClick:i,children:"cancel"}),Object(o.jsx)("button",{type:"submit",children:"oK"})]})]})})})),X=a.a.memo((function(){var e=Object(r.useState)("ADD"),t=Object(j.a)(e,2),c=t[0],a=t[1],n=Object(_.c)((function(e){return e.cars.cars})),s=Object(_.b)(),i=Object(D.e)(),A=Object(r.useCallback)((function(e){var t=e.currentTarget.value;s({type:"SORT",field:t})}),[]);Object(r.useEffect)((function(){s((function(e){e(S(!0)),N().then((function(t){var c=t.data.cars;e(function(e){return{type:"SET_CARS",cars:e}}(c)),e(S(!1))})).catch((function(t){console.error(t),e(S(!1))}))}))}),[]);var l=Object(r.useCallback)((function(){i.push("/")}),[]);return Object(o.jsxs)("section",{className:b.a.listCar,children:[Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:b.a.listCarInner,children:[Object(o.jsx)("h1",{className:b.a.listCarTitle,children:"CAR LIST"}),Object(o.jsxs)("div",{className:"sort",children:[Object(o.jsx)("span",{children:"sort by: "}),Object(o.jsxs)("select",{onChange:A,children:[Object(o.jsx)("option",{value:"id",children:"id"}),Object(o.jsx)("option",{value:"brand",children:"brand"}),Object(o.jsx)("option",{value:"carNumber",children:"car-number"}),Object(o.jsx)("option",{value:"engineType",children:"engine-type"}),Object(o.jsx)("option",{value:"model",children:"model"})]})]}),Object(o.jsx)(R.b,{to:"/car",children:Object(o.jsx)("button",{className:b.a.addCar,children:"ADD CAR"})})]}),Object(o.jsxs)("div",{className:b.a.listCarSpace,children:[Object(o.jsxs)("ul",{className:b.a.listCarColumnTitles,children:[Object(o.jsx)("li",{children:"Brand"}),Object(o.jsx)("li",{children:"Car Number"}),Object(o.jsx)("li",{children:"Engine Type"}),Object(o.jsx)("li",{children:"Model"}),Object(o.jsx)("li",{children:"Actions"})]}),Object(o.jsx)("ul",{className:b.a.listCarColumn,children:n.map((function(e){return Object(o.jsx)(U,{brand:e.brand,carNumber:e.carNumber,engineType:e.engineType,model:e.model,id:e.id,setStatusPopup:a},e.id)}))}),Object(o.jsx)("div",{className:b.a.listCarBottom,children:Object(o.jsxs)("div",{className:b.a.pageOfApp,children:[Object(o.jsxs)("div",{className:b.a.select,children:[Object(o.jsx)("span",{children:"Lines on page:  "}),Object(o.jsxs)("select",{children:[Object(o.jsx)("option",{value:"1",children:"1"}),Object(o.jsx)("option",{value:"2",children:"2"}),Object(o.jsx)("option",{value:"3",children:"3"}),Object(o.jsx)("option",{value:"4",children:"4"})]})]}),Object(o.jsx)("div",{className:"numberOfPage",children:"1-5 out of 5"}),Object(o.jsxs)("div",{className:b.a.pagesControlArea,children:[Object(o.jsx)("button",{children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACzSURBVHgB7ZQxC0IhEMfPfK9BxEBweFNLW0t9/7GP0NoHCIQmURzUNAqi5dRHmz8QTrj7/0XuDmAwWAuFDqSUx3med977B5Y7QSNKqXMI4TRNr9Iblr+BBj7iJaaUXmpqCFTyK661Rl9fbdArXkC/SAhx6BWvMmCMbWEFaJsaYzTnHFJKSz77HBtrLdqe1QaFLHjvNaketF6Tpkn+NiGELPl+xWqaV8XbxMQYtXNOw2Dwd54Ldmnc+o2fIwAAAABJRU5ErkJggg==",alt:"leftArr"})}),Object(o.jsx)("button",{children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC/SURBVHgB7dE9DoJAEAXgN+sWViSCdmIoMLG0NGrBETiqR6BQY2ltKIhYUG0oLCgIKLU/DEtCtV+1xcy8bB5gGH2NOEO+t9s4M3eqVJqhI8GakgioFqHv7wN0xPqBY7lPErQiwJvYCyh1T8DEClB5mtnWPNcJYQX0CWEHfA9xi3fxj387vJJ/oLIu2mYkOlh62zVJETbvCoji5Hxt2yEwfRyPjxFnjxWge7zB6kD3eIPVQV1WBylpfItPFxjG4F6IGknmNFz1UQAAAABJRU5ErkJggg==",alt:"rightArr"})})]})]})})]})]}),Object(o.jsx)(D.a,{path:"/car/:id?",render:function(){return Object(o.jsx)(P,{status:c,closePopup:l})}})]})})),W=c.p+"static/media/prealoder.f85196ce.svg",F=a.a.memo((function(){return Object(o.jsx)("div",{style:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",zIndex:100},children:Object(o.jsx)("img",{src:W,alt:""})})})),J=a.a.memo((function(){var e=Object(_.c)((function(e){return e.cars.preloader}));return Object(o.jsxs)("div",{className:"app",children:[e?Object(o.jsx)(F,{}):null,Object(o.jsx)(d,{}),Object(o.jsx)(X,{})]})})),Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,87)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},Y=c(20),V=c(49),M=Object(Y.c)({cars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT":var c=Object(g.a)(e.cars);return Object(h.a)(Object(h.a)({},e),{},{cars:c.sort((function(e,c){return e[t.field]>c[t.field]?1:-1}))});case"DELETE-CAR":return Object(h.a)(Object(h.a)({},e),{},{cars:e.cars.filter((function(e){return e.id!==t.id}))});case"SET_CAR":return Object(h.a)(Object(h.a)({},e),{},{currentCar:t.car});case"SET_CARS":return Object(h.a)(Object(h.a)({},e),{},{cars:t.cars});case"ADD-NEW-CAR":return Object(h.a)(Object(h.a)({},e),{},{cars:[].concat(Object(g.a)(e.cars),[t.newCar])});case"UPDATE-CAR":return Object(h.a)(Object(h.a)({},e),{},{cars:e.cars.map((function(e){return e.id===t.updateCar.id?Object(h.a)(Object(h.a)({},e),t.updateCar):e}))});case"LOADING":return Object(h.a)(Object(h.a)({},e),{},{preloader:t.value});default:return e}}}),K=Object(Y.d)(M,Object(Y.a)(V.a));s.a.render(Object(o.jsx)(R.a,{children:Object(o.jsx)(_.a,{store:K,children:Object(o.jsx)(J,{})})}),document.getElementById("root")),Q()}},[[86,1,2]]]);
//# sourceMappingURL=main.e122f277.chunk.js.map